<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Blossom & Blade</title>
<style>
  :root{ --ink:#eef3ff; --veil:rgba(5,7,12,.38); --cardFog:rgba(4,6,10,.38) } /* lighter */
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;color:var(--ink);
    font-family:system-ui,-apple-system,Segoe UI,Inter,Roboto,Arial;
    background:#0a0d12 url("images/gothic-bg.jpg") center/cover fixed no-repeat;
  }
  body::before{content:"";position:fixed;inset:0;background:linear-gradient(180deg,rgba(0,0,0,.30),rgba(0,0,0,.55));pointer-events:none}
  header{display:flex;justify-content:space-between;align-items:center;padding:16px 18px}
  h1{margin:0;font-size:22px}
  .standards{font-size:12px;opacity:.9}
  .grid{max-width:1200px;margin:18px auto 60px;padding:0 18px;display:grid;grid-template-columns:repeat(3,1fr);gap:18px}
  .card{
    position:relative;min-height:200px;border-radius:18px;overflow:hidden;cursor:pointer;
    box-shadow:0 24px 60px rgba(0,0,0,.45);
    outline:1px solid rgba(190,220,255,.18);
  }
  .card .bg{position:absolute;inset:0;background-size:cover;background-position:center;filter:saturate(.92);transform:scale(1.02)}
  .card::after{content:"";position:absolute;inset:0;background:var(--cardFog);backdrop-filter:blur(1.5px)}
  .card:hover::after{background:rgba(4,6,10,.28)}
  .inner{position:relative;z-index:2;height:100%;display:flex;flex-direction:column;justify-content:flex-end;padding:18px}
  .title{font-weight:800;font-size:18px;text-shadow:0 2px 12px rgba(0,0,0,.6)}
  .tag{opacity:.92;margin-top:6px;font-size:13px}
  .tip{max-width:1200px;margin:8px auto 26px;padding:0 18px;text-align:center;font-size:12px;opacity:.9}
  @media (max-width:980px){ .grid{grid-template-columns:repeat(2,1fr)} }
  @media (max-width:640px){ .grid{grid-template-columns:1fr} }
</style>
</head>
<body>
  <header>
    <h1>Blossom & Blade</h1>
    <div class="standards">PG-13 by default. We follow your lead, within Community Standards.</div>
  </header>

  <div id="grid" class="grid"></div>
  <div class="tip">Tip: press <strong>Enter</strong> when a card is focused.</div>

<script>
  const guys = [
    {id:'alexander',name:'Alexander Jackson',tag:'Power, polish, late-night city lights',bg:'images/bg_alexander_boardroom.jpg'},
    {id:'dylan',name:'Dylan Vale',tag:'Neon, guitar, slow burn to heat',bg:'images/dylan-garage.jpg'},
    {id:'jesse',name:'Jesse Granger',tag:'Rodeo grit, dusty gold hour',bg:'images/jesse_bg.jpg'},
    {id:'grayson',name:'Grayson Kincaid',tag:'Silk words, library hush',bg:'images/grayson-bg.jpg'},
    {id:'silas',name:'Silas Lennox',tag:'Lyric mind, poet hands',bg:'images/bg_silas_stage.jpg'},
    {id:'blade',name:'Blade Kincaid',tag:'Predatory charm, forest night',bg:'images/blade-woods.jpg'}
  ];
  const grid=document.getElementById('grid');
  grid.innerHTML = guys.map(g=>`
    <div class="card" tabindex="0" data-id="${g.id}">
      <div class="bg" style="background-image:url('${g.bg}')"></div>
      <div class="inner">
        <div class="title">${g.name}</div>
        <div class="tag">${g.tag}</div>
      </div>
    </div>`).join('');

  function enter(id){
    try{ localStorage.setItem('bb.character', id); }catch(e){}
    location.href = 'chat.html?man='+encodeURIComponent(id);
  }
  grid.addEventListener('click',e=>{
    const card=e.target.closest('.card'); if(card) enter(card.dataset.id);
  });
  grid.addEventListener('keydown',e=>{
    if(e.key==='Enter' || e.key===' '){
      const card=e.target.closest('.card'); if(card){ e.preventDefault(); enter(card.dataset.id); }
    }
  });

  /* graceful fallback if any image fails to load */
  document.querySelectorAll('.card').forEach(card=>{
    const bg=card.querySelector('.bg'); const test=new Image(); test.src = bg.style.backgroundImage.slice(5,-2);
    test.addEventListener('error',()=>{ bg.style.background='linear-gradient(180deg,#1d2230,#0e1118)'; });
  });
</script>
</body>
</html>
