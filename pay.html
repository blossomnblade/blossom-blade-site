<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Pricing · Blossom & Blade</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <style>
    :root{--ink:#eef2ff;--muted:#a7b0c0;--card:#111525;--accent:#b388ff;--accent2:#ff8bd2}
    *{box-sizing:border-box}
    body{margin:0;background:#0b0d12;color:var(--ink);font-family:Inter,system-ui,Segoe UI,Arial,sans-serif}
    .wrap{max-width:900px;margin:40px auto;padding:0 16px}
    h1{margin:0 0 8px}
    .sub{color:var(--muted);margin:0 0 22px}
    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:16px}
    .plan{background:var(--card);border:1px solid rgba(255,255,255,.08);border-radius:16px;padding:18px 16px}
    .price{font-size:34px;font-weight:900;margin:4px 0 14px;background:linear-gradient(90deg,var(--accent),var(--accent2));-webkit-background-clip:text;color:transparent}
    button,a.btn{display:inline-flex;align-items:center;justify-content:center;width:100%;gap:8px;
      background:linear-gradient(90deg,var(--accent),var(--accent2));color:#0a0a0a;font-weight:900;padding:12px 14px;border-radius:12px;text-decoration:none;border:0;cursor:pointer}
    .ghost{background:transparent !important;color:var(--ink);border:1px solid rgba(255,255,255,.15)}
    footer{margin-top:24px;color:var(--muted)}
    .hint{font-size:12px;color:#9aa3b2;margin-top:10px}
  </style>
</head>
<body>
  <div class="wrap">
    <h1>Unlock after-hours</h1>
    <p class="sub">Free trial in each room. Day Pass <b>$5.99</b> (one man, today). All-Access Monthly <b>$10.99</b> (every man).</p>

    <div class="grid">
      <div class="plan">
        <h3>Day Pass</h3>
        <div class="price">$5.99</div>
        <p class="sub">Unlocks the current man for the rest of today.</p>
        <button id="buyPass">Unlock Day Pass</button>
        <p class="hint">Dev mode: sets a local pass key for today only.</p>
      </div>
      <div class="plan">
        <h3>All-Access Monthly</h3>
        <div class="price">$10.99</div>
        <p class="sub">Unlimited access to all men for 30 days.</p>
        <button id="buyAll">Unlock All-Access</button>
        <p class="hint">Dev mode: creates a 30-day local subscription token.</p>
      </div>
      <div class="plan">
        <h3>Admin (Dev)</h3>
        <div class="price">∞</div>
        <p class="sub">Unlimited access for testing on this device.</p>
        <button class="ghost" id="adminOn">Enable Admin</button>
        <button class="ghost" id="adminOff" style="margin-top:8px">Disable Admin</button>
      </div>
    </div>

    <footer>
      <a class="btn ghost" href="index.html" style="margin-top:14px;display:inline-flex;width:auto">← Back to rooms</a>
    </footer>
  </div>

  <script>
    const qs = new URLSearchParams(location.search);
    const man = (qs.get('man')||'jesse').toLowerCase();
    const TODAY = new Date().toISOString().slice(0,10);

    document.getElementById('buyPass').onclick = ()=>{
      localStorage.setItem(`bb_pass_${man}_${TODAY}`,'1');
      alert('Day Pass unlocked for '+man+' (today).'); location.href = `chat.html?man=${man}`;
    };
    document.getElementById('buyAll').onclick = ()=>{
      const thirty = 1000*60*60*24*30;
      localStorage.setItem('bb_sub_all', JSON.stringify({ started: Date.now(), expires: Date.now()+thirty }));
      alert('All-Access Monthly unlocked.'); location.href = 'index.html';
    };
    document.getElementById('adminOn').onclick = ()=>{
      localStorage.setItem('bb_admin','1'); alert('Admin enabled'); location.href='index.html';
    };
    document.getElementById('adminOff').onclick = ()=>{
      localStorage.removeItem('bb_admin'); alert('Admin disabled'); location.href='index.html';
    };
  </script>
</body>
</html>
