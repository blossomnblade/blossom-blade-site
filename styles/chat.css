/* ---- Blossom & Blade — Chat styles (drop-in) --------------------------- */

:root{
  --page-bg: #0b0f13;
  --panel: rgba(12,17,23,.72);        /* <= lighter (was ~.9) */
  --panel-border: rgba(255,255,255,.06);
  --bubble-user: #7d0f2a;
  --bubble-ai: #12202d;
  --text: #e8eef6;
  --muted: #9fb1c3;
  --glow: 0 0 24px rgba(255,36,120,.18);
}

/* per-man backgrounds */
:root[data-man="alexander"] { --bg-url: url("/images/bg_alexander_boardroom.jpg"); }
:root[data-man="blade"]     { --bg-url: url("/images/blade-woods.jpg"); }
:root[data-man="dylan"]     { --bg-url: url("/images/dylan-garage.jpg"); }
:root[data-man="grayson"]   { --bg-url: url("/images/grayson-bg.jpg"); }
:root[data-man="silas"]     { --bg-url: url("/images/bg_silas_stage.jpg"); }
:root[data-man="viper"]     { --bg-url: url("/images/viper-bg.jpg"); } /* new */

html,body{height:100%;}
body{
  margin:0;
  color:var(--text);
  background:#000;
  font: 16px/1.5 system-ui, -apple-system, Segoe UI, Roboto, Inter, sans-serif;
}

/* background image + gentle vignette */
.page{
  min-height:100%;
  background: var(--page-bg) fixed;
  position:relative;
}
.page::before{
  content:"";
  position:fixed; inset:0;
  background: var(--bg-url) center/cover no-repeat fixed;
  z-index:-2;
}
.page::after{
  content:"";
  position:fixed; inset:0;
  /* soften the dark wash (was ~.55) */
  background:
    radial-gradient(1200px 600px at 50% -10%, rgba(255,0,80,.10), transparent 60%),
    radial-gradient(1200px 600px at 50% 110%, rgba(0,0,0,.25), rgba(0,0,0,.45) 70%);
  z-index:-1;
}

/* layout */
.wrap{
  max-width:1150px;
  margin:36px auto 80px;
  padding:0 16px;
}
.header{
  display:flex; align-items:center; gap:16px;
  margin:0 0 12px;
}
h1{
  margin:0;
  font-weight:800;
  letter-spacing:.4px;
  text-shadow: var(--glow);
}

/* columns */
.grid{
  display:grid;
  grid-template-columns: 380px 1fr;
  gap:24px;
}
@media (max-width: 980px){
  .grid{ grid-template-columns: 1fr; }
}

/* portrait card */
.portrait{
  background: var(--panel);
  border:1px solid var(--panel-border);
  border-radius:18px;
  padding:14px;
  box-shadow: var(--glow);
}
.portrait figure{ margin:0; }
.portrait img{
  width:100%; height:420px; display:block;
  object-fit:cover; object-position:center;
  border-radius:12px;
  background:#0a0f14; /* while loading */
}
/* hide the little caption line entirely */
.portrait figcaption{ display:none; }

/* chat panel */
.chat{
  display:flex; flex-direction:column;
  min-height:520px;
  background: var(--panel);
  border:1px solid var(--panel-border);
  border-radius:18px;
  box-shadow: var(--glow);
}

/* scroll area – prevent “eating text” */
.messages{
  flex:1 1 auto;
  overflow-y:auto;
  padding:22px 22px 12px;
  list-style:none; margin:0;
  scrollbar-width:thin;
}
.messages li{ margin:10px 0; }

.msg{
  max-width: 85%;
  padding:12px 14px;
  border-radius:14px;
  background:#0e1821;
}
.msg.ai{ background: var(--bubble-ai); color:var(--text); }
.msg.user{
  margin-left:auto;
  background: var(--bubble-user);
  color:#ffdbe7;
}

/* input row */
.input{
  position:sticky; bottom:0;
  padding:14px;
  border-top:1px solid var(--panel-border);
  background: linear-gradient(180deg, rgba(8,12,18,.0), rgba(8,12,18,.55) 35%, rgba(8,12,18,.72) 100%);
  border-radius: 0 0 18px 18px;
}
.input .row{
  display:flex; gap:10px; align-items:center;
}
.input input[type="text"]{
  flex:1 1 auto;
  border:1px solid var(--panel-border);
  background:#0a1219;
  color:var(--text);
  border-radius:12px;
  padding:14px 16px;
  outline:none;
}
.input button{
  border:0; border-radius:12px;
  padding:12px 18px;
  background:#ff5a8f; color:#fff;
  font-weight:700; cursor:pointer;
  box-shadow: 0 10px 22px rgba(255,90,143,.22);
}
.input button:disabled{ opacity:.55; cursor:not-allowed; }
