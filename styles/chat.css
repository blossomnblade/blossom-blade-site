/* Chat layout & timer; dark theme; portrait right; sticky composer */

:root {
  --bg: #0b0c10; --panel:#12131a; --ring:#262732; --muted:#a9b2c0; --text:#e8eff7; --accent:#ff5a7a;
}

*{ box-sizing:border-box; }
html, body { height:100%; }
body.chat { margin:0; background:var(--bg); color:var(--text); font:16px/1.5 system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }

.topbar { display:flex; align-items:center; gap:.8rem; padding:.8rem 1rem; border-bottom:1px solid var(--ring); position:sticky; top:0; background:rgba(11,12,16,.9); backdrop-filter: blur(6px); z-index:10; }
.brand { font-weight:800; }
.room { opacity:.9; }
.age-pill { margin-left:auto; font-size:.85rem; padding:.2rem .6rem; border-radius:999px; background:#1c1d25; color:#cfd3d9; border:1px solid var(--ring); }
.trial-timer { margin-left:.6rem; font-size:.85rem; padding:.2rem .55rem; border-radius:999px; background:#1a1213; color:#ffd9df; border:1px solid #3a2128; box-shadow:0 6px 16px rgba(255,90,122,.15); }

.layout { display:grid; grid-template-columns: 1fr minmax(260px, 32%); gap:1rem; padding:1rem; }
@media (max-width: 900px){ .layout { grid-template-columns: 1fr; } }

.messages { display:grid; grid-template-rows: 1fr auto; gap: .75rem; min-height: calc(100vh - 110px); }
.stack { overflow:auto; padding:.5rem; border:1px solid var(--ring); border-radius:14px; background:#0e0f13; }
.bubble { max-width: 68ch; padding:.5rem .8rem; border-radius:14px; margin:.35rem 0; box-shadow:0 6px 18px rgba(0,0,0,.25); }
.bubble.ai { background:#15161f; border:1px solid var(--ring); }
.bubble.user { margin-left:auto; background:#17181e; border:1px solid #2a2d36; }

.composer { position:sticky; bottom:0; display:flex; gap:.5rem; align-items:center; background:transparent; padding-bottom:.25rem; }
.composer input { flex:1; background:#12131a; border:1px solid var(--ring); color:var(--text); border-radius:999px; padding:.85rem 1rem; }
.composer .send { background:var(--accent); color:#fff; border:none; border-radius:999px; padding:.75rem 1rem; font-weight:800; box-shadow:0 12px 30px rgba(255,90,122,.35); }

.portrait .frame { border:1px solid var(--ring); background:#0f1015; border-radius:16px; padding:.6rem; }
.portrait img { width:100%; height: min(66vh, 76vw); object-fit: cover; border-radius:12px; display:block; }

.sr-only { position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }
