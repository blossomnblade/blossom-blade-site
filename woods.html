<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Blade Kincaid ‚Äî PG-13 Room</title>
  <meta name="description" content="Blade Kincaid ‚Äî masked hunter ‚Ä¢ Ghostface Woods. PG-13 room with gentle, attentive pacing."/>
  <style>
    *{box-sizing:border-box}
    body{margin:0;color:#fff;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;background:url('images/gothic-bg.jpg') center/cover fixed no-repeat}
    header{position:sticky;top:0;z-index:50;display:flex;justify-content:space-between;align-items:center;padding:14px 16px;background:rgba(0,0,0,.75);border-bottom:1px solid rgba(255,255,255,.15);backdrop-filter:saturate(120%) blur(6px)}
    main{max-width:1100px;margin:22px auto;padding:0 16px}
    .layout{display:grid;grid-template-columns:300px 1fr;gap:16px}
    .card{border:1px solid rgba(255,255,255,.15);border-radius:14px;overflow:hidden;background:rgba(0,0,0,.70)}
    .tabbar{display:flex;gap:8px;padding:8px 10px;align-items:center;border-bottom:1px solid rgba(255,255,255,.15);background:#245c40}
    .tab{font-size:12px;padding:6px 10px;border-radius:6px;font-weight:600;background:#245c40;color:#fff;border:1px solid rgba(255,255,255,.18)}
    .chip{font-size:11px;padding:4px 8px;border-radius:999px;background:#245c40;border:1px solid rgba(255,255,255,.18)}
    .btn{padding:10px 12px;border-radius:8px;border:none;background:#245c40;color:#fff;font-weight:600;cursor:pointer}
    .panel{padding:12px 12px 14px}
    .hero{aspect-ratio:4/3;background:rgba(255,255,255,.04)}
    .chat{display:flex;flex-direction:column;min-height:60vh}
    .chatlog{flex:1;overflow:auto;padding:12px 12px 0}
    .row{display:flex;margin:0 0 8px}
    .bubble{max-width:80%;padding:8px 12px;border-radius:12px;border:1px solid rgba(255,255,255,.15)}
    .him{background:rgba(255,255,255,.08)}
    .you{background:#fff;color:#000;margin-left:auto}
    .compose{display:flex;gap:8px;padding:12px}
    .input{flex:1;background:#111;border:1px solid rgba(255,255,255,.18);border-radius:10px;color:#fff;padding:10px;outline:none}
    footer{padding:18px 16px;text-align:center;font-size:12px;opacity:.8;background:rgba(0,0,0,.75);border-top:1px solid rgba(255,255,255,.15)}
    a.back{color:#fff;text-decoration:none;opacity:.9}

    /* Typing indicator */
    .typing-row { display:none; margin:0 0 8px; }
    .typing-row .bubble {
      max-width:80%; padding:8px 12px; border-radius:12px;
      border:1px solid rgba(255,255,255,.15); background:rgba(255,255,255,.08);
    }
    .typing-dots { display:inline-flex; align-items:center; gap:4px; }
    .typing-dot { width:6px; height:6px; border-radius:50%; background:#fff; opacity:.25; }
    @keyframes bbblink { 0%,80%,100%{opacity:.25} 40%{opacity:1} }
    .typing-dot:nth-child(1){ animation:bbblink 1.2s infinite; }
    .typing-dot:nth-child(2){ animation:bbblink 1.2s .2s infinite; }
    .typing-dot:nth-child(3){ animation:bbblink 1.2s .4s infinite; }
  </style>

  <!-- Subscription Gate -->
  <script>
    (function(){
      function active(){
        try{
          const on = localStorage.getItem('bb_subscribed')==='true';
          const exp = Number(localStorage.getItem('bb_expires_at')||0);
          return on && Date.now()<exp;
        }catch(e){return false;}
      }
      if(!active()){
        location.replace('pay.html?man=' + encodeURIComponent('woods.html'));
      }
    })();
  </script>
</head>
<body>
<header>
  <a href="index.html" class="back">‚Üê All Characters</a>
  <div style="display:flex;align-items:center;gap:10px;">
    <img src="images/logo.jpg" alt="Blossom n Blade" style="height:28px;width:auto"/>
    <div style="font-weight:700">Blade Kincaid</div>
  </div>
  <div style="font-size:12px;opacity:.85">PG-13 with subscription ‚Ä¢ Explicit talk unlocked with coins</div>
</header>

<main>
  <div class="layout">
    <section class="card">
      <div class="tabbar">
        <span class="tab">Blade Kincaid</span>
        <span class="tab">Ghostface Woods</span>
        <span class="tab">Chase Fantasy</span>
      </div>
      <div class="hero"></div>
      <div class="panel">
        <div style="display:flex;align-items:center;gap:8px;flex-wrap:wrap;">
          <div style="font-weight:700;">Masked hunter</div>
          <span class="chip">Protective predator</span>
        </div>
        <p style="opacity:.95;margin:10px 0 0;">You found the trail. Brave girl. No need to look over your shoulder‚ÄîI‚Äôm right where you want me.</p>
      </div>
    </section>

    <section class="card chat">
      <div class="tabbar">
        <span class="tab">PG-13 Room</span>
        <span class="tab">Flirty ‚Ä¢ Teasing ‚Ä¢ Safe</span>
      </div>
      <div id="chat" class="chatlog"></div>
      <div class="compose">
        <input id="msg" class="input" placeholder="Say something sweet‚Ä¶"/>
        <button id="send" class="btn">Send</button>
      </div>
    </section>
  </div>
</main>

<footer>$1 of every subscription goes to this month‚Äôs Domestic Violence charity.</footer>

<script>
  const chat = document.getElementById('chat');
  const msg  = document.getElementById('msg');
  const send = document.getElementById('send');

  function bubble(who, text){
    const row = document.createElement('div'); row.className='row';
    const b = document.createElement('div'); b.className='bubble ' + (who==='you'?'you':'him');
    b.textContent = text; row.appendChild(b); chat.appendChild(row);
    chat.scrollTop = chat.scrollHeight;
  }

  // --- Typing indicator helpers ---
  let typingRow;
  (function ensureTypingRow(){
    typingRow = document.createElement('div');
    typingRow.className = 'row typing-row';
    const b = document.createElement('div');
    b.className = 'bubble him';
    const dots = document.createElement('span');
    dots.className = 'typing-dots';
    dots.innerHTML = '<span class="typing-dot"></span><span class="typing-dot"></span><span class="typing-dot"></span>';
    b.appendChild(dots); typingRow.appendChild(b); chat.appendChild(typingRow);
  })();
  function showTyping(){ if(typingRow) typingRow.style.display='flex'; }
  function hideTyping(){ if(typingRow) typingRow.style.display='none'; }
  function reply(text, delay=900){ showTyping(); setTimeout(()=>{ hideTyping(); bubble('him', text); }, delay); }

  const openers = [
    "You found the trail. Brave girl.",
    "No need to look over your shoulder‚ÄîI‚Äôm right where you want me."
  ];
  const caringQuestions = [
    "How was your day‚Äîreally?",
    "If I cook for you, what do you feel like?",
    "Tell me one good thing that happened today.",
    "What‚Äôs your ideal slow Sunday?"
  ];
  let qIndex=0, shares=0, nickname="";

  // Brother detection (Grayson seen?)
  function brotherCheck(){
    try{
      if(localStorage.getItem('seen_grayson')==='1'){
        reply("You‚Äôve been in my brother‚Äôs red-lit room, haven‚Äôt you? You still carry his rules in your eyes.",1400);
      }
    }catch(e){}
  }

  // Seed the hello
  openers.forEach(t=>bubble('him',t));
  setTimeout(()=>reply("What did you just say?", 900),800);
  // mark Blade as seen
  try{ localStorage.setItem('seen_blade','1'); }catch(e){}
  setTimeout(brotherCheck,2200);

  // Nickname earning (Blade ‚Üí wildflower ‚Üí rabbit)
  function earnNickname(){
    if(!nickname && shares>=1) nickname="wildflower";
    if(!nickname && shares>=2) nickname="rabbit";
  }

  function nextQuestion(){
    if(qIndex>=caringQuestions.length) qIndex=0;
    reply(caringQuestions[qIndex++], 1200);
  }

  function respondToUser(){
    reply("I like that. Keep going.", 800);
    earnNickname();
    setTimeout(()=>{
      const n = nickname ? ` ${nickname}` : "";
      reply(`Careful there${n}. üòâ`, 900);
    }, 1500);
    setTimeout(nextQuestion, 2600);
  }

  function handleSend(){
    const t = msg.value.trim(); if(!t) return;
    bubble('you', t); msg.value=""; shares++;
    respondToUser();
  }
  send.onclick = handleSend;
  msg.addEventListener('keydown', e=>{ if(e.key==='Enter') handleSend(); });
</script>
</body>
</html>
